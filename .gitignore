<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html> <head> <title>Beauty of Engraving Weekly Roundup TEXT Preview | MailChimp</title>  <meta http-equiv="Content-Type" content="text/html; charset=utf-8"> <meta name="copyright" content="Copyright (c) 2012 MailChimp. All Rights Reserved."> <script type="text/javascript">
    _instrument_start = new Date().getTime();
</script>  <link rel="stylesheet" type="text/css" href="/release/7.6.32/css/popup.css"> <!--[if IE 7]><link rel="stylesheet" type="text/css" href="/release/7.6.32/css/popup-ie7.css" /><![endif]--> <!--[if IE 8]><link rel="stylesheet" type="text/css" href="/release/7.6.32/css/popup-ie8.css" /><![endif]--> <script type="text/javascript" src="/release/7.6.32/js/dojo/dojo.js" data-dojo-config="parseOnLoad: true, usePlainJson: true"></script> <script type="text/javascript" src="/release/7.6.32/js/dojo/mccommon.js"></script> <script type="text/javascript">
        dojo.registerModulePath('mailchimp', '../mailchimp');
        dojo.require('dojo.parser');
        dojo.require('dijit.form.Button');
        dojo.require('dijit.Dialog');
        dojo.require('mojo.utils');
    </script>   <script type="text/javascript">
        dojo.require('mojo.utils');
        dojo.require('dijit.form.CheckBox');
        
        dojo.addOnLoad(function() {
            var monkeyhead = dojo.byId('monkeyhead');
            if(monkeyhead) {
                dojo.connect(window, 'onresize', function() {
                    happyMonkey();
                    setTimeout("resizePreview()", 100);
                });
            }
            happyMonkey();

        });

        function happyMonkey(){
            if(dojo.coords(dojo.body()).w > 1175) {
                dojo.addClass("monkeyhead", "scream");
            } else {
                dojo.removeClass("monkeyhead", "scream");
            }        
        }

        function toggleMobile(toShow, toHide) {
            var showIconId = 'show-'+toShow;
            var showSectionId = toShow+'-view';
            var hideIconId = 'show-'+toHide;
            var hideSectionId = toHide+'-view';
            if (dojo.hasClass(showIconId, 'disabled')) {
                dojo.addClass(hideIconId, 'disabled');
                dojo.removeClass(showIconId, 'disabled');
                dojo.addClass(hideSectionId, 'hide');
                dojo.removeClass(showSectionId,'hide'); 
                dojo.toggleClass('rotate-mobile','invisible');
            }
            return false;
        }

        function toggleOrientation(){
            dojo.toggleClass('mobile-view','landscape');
            return false;
        }
        
        function resizePreview(){
            try {
                var used = dojo.coords('header-toggle').h + dojo.coords('headers-detail').h + dojo.coords('monkey-ruler').h;
                if (dojo.byId('preview-footer')){
                    used += dojo.coords('preview-footer').h;
                }
                var body = getWindowSize().h;
                dojo.style('preview-content', 'height',  (body - used) + 'px');
            }catch(e){console.log(e);}
        }
        
        function getWindowSize() {
            var w = 0;
            var h = 0;
            //IE
            if(!window.innerWidth) {
                //strict mode
                if(!(document.documentElement.clientWidth == 0)) {
                    w = document.documentElement.clientWidth;
                    h = document.documentElement.clientHeight;
                } else {         //quirks mode
                    w = document.body.clientWidth;
                    h = document.body.clientHeight;
                }
            } else {         //w3c
                w = window.innerWidth;
                h = window.innerHeight;
            }
            return { w:w,h:h };
        }
        
        var merge_pos = 0;
        
        /**
         * Send a request back to the server to get the updated header and content info for a particular
         * list member and update the display.  Use a 0-based position index to determine which recipient to show
         * @param {Integer} pos
         */
        function fillMerge(pos) {
            console.log(pos);
            //First, get the member id from the database.  Do this to prevent two requests (content, headers) from
            //having to do the pos => member_id conversion
            merge_pos = pos;
            dojo.xhrPost({
                'url': '/campaigns/preview-recipient?id=184757',
                'content': {'pos': pos},
                'handleAs': 'json',
                'load': function(data) {
                    var member_id = data.member_id;
                    
                    var merge_start = dijit.byId('merge-start').domNode;
                    var merge_back = dijit.byId('merge-back').domNode;
                    var merge_next = dijit.byId('merge-next').domNode;
                    
                    if(pos == 0) {
                        //This is the first, so clear the start button and add the back button
                        merge_start.style.display = 'none';
                        merge_back.style.display = '';
                        dojo.style('merge-label', 'display', 'none');
                        dojo.style('member-label', 'display', '');
                    }
                    
                    if(pos == -1) {
                        //We're going back to the default, so show the start button again
                        merge_start.style.display = '';
                        merge_back.style.display = 'none';
                        merge_next.style.display = 'none';
                        dojo.style('merge-label', 'display', '');
                        dojo.style('member-label', 'display', 'none');
                    } else if(data.is_last) {
                        //If we're on the last data point, then remove the "next" button
                        merge_next.style.display = 'none';
                    } else {
                        merge_next.style.display = '';
                    }
                    
                    //Update the member label in the footer
                    if(pos == -1) {
                        dojo.byId('member-label').innerHTML = '';
                    } else {
                        dojo.byId('member-label').innerHTML = 'Member: ' + data.email;
                    }
                    
                    //Load the headers
                    dojo.xhrPost({
                        'url': '/campaigns/preview-headers?id=184757',
                        'content': {'e': member_id},
                        'handleAs': 'text',
                        'load': function(data) {
                            dojo.byId('headers-detail').innerHTML = data;
                        }
                    });
                    
                    //Load the content
                    dojo.byId('preview-content').src = '/campaigns/preview-content-text?id=184757&e=' + member_id;
                    dojo.byId('mobile-preview-content').src = '/campaigns/preview-content-text?id=184757&e=' + member_id;
                }
            });
        }
    </script> <link rel="stylesheet" type="text/css" href="/release/7.6.32/css/lib/sprites.css"> <style type="text/css">
        @media screen and (min-width: 1px) {
            #rotate-mobile { padding:4px 0; display:inline-block;}
            #mobile-view .error { display:none;}
        }
    </style> </head> <body id="popup" class="mailchimp popup popup-preview "> <div class="popupwrap"> <div id="texturewrap"> <div id="header"> <div class="container"> <h1 id="logo"><a class="imgrpl" href="/">MailChimp</a></h1> </div> </div> <div id="outer-content" class="container"> <div id="content" class="rounded8"> <div class="unit size1of1 above-below15"> <div class="unit size1of4">  <div id="mobiletoggle"> <a class="button-small icon-left p3" href="#" id="show-desktop" onclick="toggleMobile('desktop','mobile')"><span class="icon16 icon-desktop_16">desktop</span></a> <a class="button-small icon-right p3 disabled" href="#" id="show-mobile" onclick="toggleMobile('mobile','desktop')"><span class="icon16 icon-mobile_16">mobile</span></a> <a href="#" onclick="toggleOrientation()" class="hide invisible" id="rotate-mobile"><span class="icon16 icon-undo_16">Rotate</span></a> </div>  </div> <div class="unit size3of4 alignr" id="header-toggle"> <div class="inline-label nowrap"><input type="checkbox" dojotype="dijit.form.CheckBox" id="toggle-headers" name="toggle-headers" onclick="mojo.utils.wipeToggle(this, 'headers-detail');" class="av-checkbox"> <label for="toggle-headers" class="inline-label">Show header stuff</label></div> <a class="button-small p4" target="_blank" href="/lists/settings/contact?id=41301" style="margin-top:4px;">change address shown in footer</a> </div> </div> <div id="headers-detail" style="display: none;"> <table id="email-headers"> <tbody> <tr id="email-to" class="odd"> <th>To:</th> <td>*|FNAME|* &lt; recipient email address &gt;</td>  </tr>
                <tr id="email-fromname" class="even"> <th>From:</th> <td>Beauty of Engraving</td>  </tr> <tr id="email-fromemail" class="odd"> <th>Reply-to:</th> <td>stephanie@twopaperdolls.com</td>  </tr>
                        <tr id="email-subject" class="even"> <th>Subject:</th> <td>Posts from The Beauty of Engraving Â» Gallery Entries for 10/22/2012</td>  </tr>
            </tbody> </table>  </div> <div id="desktop-view"> <div id="monkey-ruler"> <p><strong id="monkeyhead">Note: </strong>Your email shouldn't be much more than 600 pixels wide.</p> </div> <iframe id="preview-content" style="width: 100%;" src="/campaigns/preview-content-text?id=184757"></iframe> </div> <div id="mobile-view" class="hide"> <div class="above-below15 alignc"><em>This is an approximation.</em> <a href="http://kb.mailchimp.com/article/why-does-the-mobile-preview-look-different-than-it-does-on-my-device" target="_blank">About mobile preview accuracy.</a></div> <div class="error"><strong>Oops! It looks like the browser you are using doesn't support media queries.</strong><br> To get a more accurate mobile preview, we recommend upgrading to a modern browser like <a href="http://www.mozilla.com/en-US/firefox/switch.html" target="_blank">Firefox</a> or <a href="https://www.google.com/chrome" target="_blank">Chrome</a>.</div> <div class="bananaphone"> <iframe id="mobile-preview-content" src="/campaigns/preview-content-text?id=184757"></iframe> </div> </div>  <div class="above-below15 alignc" id="preview-footer"> <div class="unit size1of3 alignr">&nbsp;<button dojotype="dijit.form.Button" id="merge-back" onclick="fillMerge(merge_pos-1);" class="button-small p3" style="display: none;">back</button></div> <div class="unit size1of3 alignc" id="member-label" style="display:none;"></div> <div class="unit size1of3 alignc" id="merge-label"><button dojotype="dijit.form.Button" id="merge-start" onclick="fillMerge(0);" class="button">view live merge info</button></div> <div class="unit size1of3 alignl lastUnit"><button dojotype="dijit.form.Button" id="merge-next" onclick="fillMerge(merge_pos+1);" class="button-small p3" style="display: none;">next</button>&nbsp;</div> </div> </div> </div> </div> <div id="footerwrap" class="clear"> <div class="container"> <div id="footer"> <div class="line"> <div class="colophon">
                    &copy; 2001-2012 MailChimp. All Rights Reserved. <em>Love what you do.</em> </div> </div> </div> </div> </div>  </div></body> </html>
